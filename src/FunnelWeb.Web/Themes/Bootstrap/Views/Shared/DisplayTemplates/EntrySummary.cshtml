@model EntrySummary
<div class="post-line @String.Join(" ", Html.CssKeywordsFor(Model))">
    <div class="entry-revised live-tile">
        <div class="viewport">
            <ul class="overview">
                <li>
                    <div class="entry-revised-month">
                        <span>@Model.Published.ToUniversalTime().ToString("MMM d")</span>
                    </div>
                    <div class="entry-revised-year">
                        <span>@Model.Published.ToUniversalTime().ToString("yyyy")</span>
                    </div>
                </li>
                <li>
                    @if (Html.Settings().EnableDisqusCommenting)
                    {
                        <div class="entry-summary-comments">
                            @{
                                string root = Request.Url.Scheme + "//" + Request.Url.DnsSafeHost;
                                string url = root + Url.Action("Page", "Wiki", new {page = Model.Name}) + "#disqus_thread";
                            }
                            <a class="comment-count disqus-comment-count" style="margin-left:2px;text-align:center;" href='@url'></a>
                        </div>
                    }
                    else
                    {
                        <div class="entry-summary-comments">
                            <a href='@Url.Action("Page", "Wiki", new { page = Model.Name })#comments'>&nbsp;&nbsp;<span class="comment-count" style="font-weight: bold;">@Model.CommentCount</span>&nbsp; &nbsp;
                            </a>
                        </div>
                        <div class="entry-summary-comments">
                            <a href='@Url.Action("Page", "Wiki", new { page = Model.Name })#comments'>
                                <span>comment@(Model.CommentCount == 1 ? "" : "s")</span>
                            </a>
                        </div>
                    }

                </li>
            </ul>
        </div>
    </div>
    <div class="entry-summary-container">
        @*<div class="entry-summary-comments">
            <a href='@Url.Action("Page", "Wiki", new { page = Model.Name })#comments'>
                <span class="comment-count" style="font-weight: bold;">@Model.CommentCount</span>
                <span>comment@(Model.CommentCount == 1 ? "" : "s")</span>
            </a>
        </div>*@
        <div class="entry-summary">
            <h2>@Html.ActionLink(Model.Title, "Page", "Wiki", new { page = Model.Name }, null)</h2>
            @if (!string.IsNullOrEmpty(Model.MetaDescription))
            {
                @Html.RenderTrusted(Model.MetaDescription, Formats.Markdown)
            }
            <div>
                @Html.DisplayFor(x => Model.TagsCommaSeparated)
            </div>
        </div>
    </div>
</div>
